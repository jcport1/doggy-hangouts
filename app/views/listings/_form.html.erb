<%= render partial: "layouts/errors", locals: {object: @listing} %>

<%= form_for(@listing) do |f| %>
    <%= f.label :title %> 
    <%= f.text_field :title %>
    <br>
    <br> 
    <%= f.label :content %> 
    <%= f.text_area :content %>
    <br>
    <br> 
    <%= f.label :pet_id %>
    <%= f.select :pet_id, current_user.pets.collect { |p| [p.name, p.id] } %> 
    <br>
    <br> 
    <h4> Choose a Location:</h4>

    <%= f.collection_select :location_id, Location.all, :id, :name, include_blank: 'Select One' %>
    <br>
    <br>

    <p> Or Create a new Location:</p>
    <%= f.fields_for :location do |l| %> 
        <%= l.label :name %>
        <%= l.text_field :name %>
    <% end %> 
    <br>
    <br>
    <%= f.submit %>
<% end %> 